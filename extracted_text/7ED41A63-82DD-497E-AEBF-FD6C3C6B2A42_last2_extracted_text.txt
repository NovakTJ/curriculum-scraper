--- PAGE 1 ---
Septembar 2024. Copyright 2018-2024 by Dragan Milićev
❖ Izraz (operator) new ima redom sledeće elemente iza ključne reči new:
• opcione argumente za tzv. parametre smeštanja (placement parameters)
• speciﬁkator objektnog tipa, kao type-id, za objekat koji se kreira
• opcioni inicijalizator, kao inače pri inicijalizaciji varijabli na drugim mestima
new (std::nothrow) Clock (9,0,0) 
❖ Speciﬁkator tipa je type-id koji mora biti objektni tip (ne tip reference), i može biti tip koji predstavlja jedan objekat 
ili niz objekata nekog tipa:
new (Clock*) (nullptr) 
new (Clock*[n]) {} 
❖ Ukoliko je speciﬁkovan tip niza, sve dimenzije tog niza osim prve moraju biti date kao konstatni izrazi sa 
pozitivnom celobrojnom vrednošću; prva dimenzija može biti izraz koji se izračunava u trenutku izvršavanja 
izraza new - tako se jedino i mogu praviti dinamički dimenzionisani nizovi (sa dimenzijom poznatom tek za vreme 
izvršavanja):
const int Max = 100; 
extern int n; 
new (Clock[2*n][Max]) (nullptr) 
new (Clock[2*n][n]){} 
❖ U speciﬁkatoru tipa (type-id) može da se koristi i auto, s tim da je inicijalizator tada obavezan, jer se na osnovu 
njegovog tipa određuje tip objekta koji se kreira
Dinamički životni vek
 331
Argumenti za parametre smeštanja Speciﬁkator tipa (type-id)
Inizijalizator
Pravi se jedan objekat tipa Clock*
Pravi se niz od n objekata tipa Clock*
Greška u prevođenju: druga dimenzija nije konstantan izraz

--- PAGE 2 ---
Septembar 2024. Copyright 2018-2024 by Dragan Milićev
❖ Opcioni argumenti za parametre smeštanja mogu se koristiti za prosleđivanje dodatnih informacija 
(parametara) operatorskim funkcijama koje izraz new poziva za potrebe alokacije prostora za 
dinamički objekat. Dve standardno podržane mogućnosti za ove parametre su sledeće:
• parametar za tzv. placement new (po kom su ovi parametri i dobili ime, jer su uvedeni u jezik 
kao uopštenje ove mogućnosti)
• argument nothrow
❖ Tzv. placement new omogućava da se dinamički objekat smesti u prostor već alociran za neki drugi 
objekat, odnosno u skladište koje još uvek traje. Na primer:
char* ptr = new char[sizeof(T)]; 
T* tptr = new(ptr) T; 
tptr->~T(); 
delete [] ptr;  
❖ Podrazumevano, izraz new, tačnije, operatorska funkcija koju on poziva za alokaciju prostora baca 
izuzetak ukoliko ne može da alocira taj prostor; ako se kao argument dostavi predeﬁnisani objekat 
std::nothrow, neće biti bačen izuzetak, nego će izraz new vratiti null vrednost u ovom slučaju:
auto p = new (std::nothrow) (Clock[2*n][Max]) {} 
if (p) …p[i][j]…
Dinamički životni vek
 332
