--- PAGE 1 ---
Septembar 2024. Copyright 2018-2024 by Dragan Milićev
❖ Konstruktor klase X čiji je prvi parametar tipa X&&, const X&&, volatile X&& ili const volatile X&&,  a 
koji ili nema druge parametre, ili svi ostali parametri imaju podrazumevane vrednosti, naziva se 
konstruktor premeštanja (move constructor)
❖ Ovaj konstruktor poziva se kada se objekat klase X inicijalizuje dvrednošću (do verzije C++17), odnosno 
xvrednošću (od verzije C++17) istog tipa, uključujući:
• inicijalizaciju objekta: X x1 = std::move(x2) ili X x1(std::move(x2)), gde je x2 objekat klase X ili iz nje 
izvedene klase
• prenos argumenta pri pozivu funkcije f(std::move(x)), koja ima taj parametar tipa X: void f(X x)
• povratak vrednosti iz funkcije f koja ima povratni tip X naredbom return x, gde je x objekat klase X 
ili iz nje izvedene klase
❖ Do verzije C++17, ako je inicijalizator čdvrednost (prvalue), poziv ovog konstruktora je bio najčešće 
izostavljan zbog optimizacije, dok je od verzije C++17 ta optimizacija obavezna, pa se konstruktor 
premeštanja nikada ne poziva za inicijalizaciju pomoću čdvrednosti (poziva se za inicijalizaciju samo 
pomoću xvrednosti)
❖ Svrha konstruktora premeštanja jeste da preotme (premesti) resurse iz objekta kojim se dati objekat 
domaćin inicijalizuje, ostavljajući taj objekat u validnom, konzistentnom stanju (barem tako da se on 
može ispravno uništiti)
Konstruktor premeštanja
 396

--- PAGE 2 ---
Septembar 2024. Copyright 2018-2024 by Dragan Milićev
❖ Klasa može imati i više konstruktora premeštanja, recimo onaj koji prima X&& i onaj koji prima 
const X&&
❖ Ako klasa X nema nijedan eksplicitno deklarisan konstruktor premeštanja (tj. korisnički 
deklarisan konstruktor premeštanja) i pod uslovom da ta klasa nema korisnički deﬁnisan 
konstruktor kopije, operator dodele kopiranjem, operator dodele premeštanjem i destruktor, 
prevodilac će implicitno deklarisati konstruktor premeštanja koji je javan, inline i nije explicit
❖ Ako klasa ima neki konstruktor premeštanja (pa prevodilac ne generiše implicitni konstruktor 
premeštanja), programer ipak može forsirati automatsko deklarisanje konstruktora koji bi 
prevodilac implicitno deklarisao speciﬁkatorom =default
❖ Ako podobjekti osnovnih klasa ili objekti članovi ne mogu da se premeštaju ili uništavaju, recimo 
zato što su objekti klasa koje nemaju dostupne konstruktore premeštanja ili destruktore, onda će 
ovaj implicitno deklarisani konstruktor premeštanja  biti obrisan (smatraće se da njegov poziv 
nije dozvoljen, iako je on deklarisan)
❖ U suprotnom, ako ovaj implicitno deklarisan ili podrazumevani konstruktor premeštanja nije 
obrisan, on će biti deﬁnisan i vršiće podrazumevanu inicijalizaciju podobjekata osnovnih klasa i 
objekata članova xvrednostima, po istom redosledu kao i u inicijalizaciji; ako su ti podobjekti 
objekti nekih klasa, pozivaju se njihovi konstruktori premeštanja, ako ih imaju, odnosno 
konstruktori kopije u suprotnom
Konstruktor premeštanja
 397
