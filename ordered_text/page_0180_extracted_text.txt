--- PAGE 1 ---
Septembar 2024. Copyright 2018-2024 by Dragan Milićev
Pretprocesiranje
❖ Direktive #if, #elif (znači “else-if”), #ifdef (znači “if-deﬁned”) i #ifndef (znači “if-not-deﬁned”) 
omogućuju uslovno prevođenje: tekst uokviren odgovarajućim direktivama biće prevođen 
samo ako je odgovarajući uslov ispunjen; za direktive #ifdef/#ifndef, uslov je ispunjen ako je 
dati simbol deﬁnisan/nije deﬁnisan pretprocesoru (pomoću prethodne direktive #deﬁne):
#ifdef _a_h 
  … 
#endif 
❖ Ove direktive mogu da se koriste npr. za prevođenje delova koda koji treba da postoji samo 
ako se program prevodi za odgovarajuću platformu, konﬁguraciju i slično; prevodioci 
dozvoljavaju da im se zada simbol pretprocesora koji se smatra generalno (globalno) 
deﬁnisanim za sve fajlove, iako nije eksplicitno deﬁnisan direktivom #deﬁne:
#ifdef Windows 
 … // Windows-dependent code 
#elif defined(Linux) 
 … // Linux-dependent code 
#endif
 180
Ovaj kod biće prevođen samo ako je simbol _a_h deﬁnisan 
direktivom #deﬁne pretprocesora
Ovaj kod biće prevođen samo ako je simbol Windows 
deﬁnisan, što se tipično radi podešavanjem prevodioca, 
tako da se dati simbol smatra deﬁnisanim pri 
pretprocesiranju svih fajlova

--- PAGE 2 ---
Septembar 2024. Copyright 2018-2024 by Dragan Milićev
Pretprocesiranje
❖ Kod uključivanja .h fajlova, moguće su sledeće situacije:
• isti fajl, npr. x.h, uključuje se (tipično indirektno) više puta u isti .cpp fajl, recimo tako što 
taj .cpp fajl uključuje npr. i a.h i b.h, a i jedan i drugi uključuju x.h (direktno ili indirektno); 
fajl x.h može sadržati deﬁniciju nekog entiteta, tipično klase, jer se u .h fajlove po pravilu 
stavljaju deﬁnicije klasa; tada će prevodilac dobiti na prevođenje višestruku deﬁniciju 
istog entiteta, što nije dozvoljeno čak i ako su deﬁnicije identične
• neki .h fajl uključuje se rekurzivno (tipično indirektno)
❖ Da bi se ovakve pojave sprečile, potrebno je (i to se po pravilu radi, bez mnogo obaziranja 
na to da li je to neophodno u svakom konkretnom slučaju ili ne, jer svakako ne smeta) ceo 
sadržaj svakog .h fajla uokviriti u sledeću kombinaciju direktiva, što obezbeđuje da će 
prevodilac dobiti na prevođenje uokvireni kod samo jednom, čak i ako je taj .h fajl uključen 
više puta:
#ifndef _figure_h 
#define _figure_h 
 … // The code of the header file; 
#endif
 181
